<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
    function ArrayList() {
        this.array = []

        ArrayList.prototype.insert = function(item){
        this.array.push(item)
        }

        ArrayList.prototype.toString = function(){
            return this.array.join('-')
        }

        //交换两个位置的数据
        ArrayList.prototype.swap = function(m, n){
            let temp  = this.array[m]
            this.array[m] = this.array[n]
            this.array[n] = temp
        }

        //冒泡排序
        ArrayList.prototype.bubble=function(){
            let length=this.array.length

            for(let j=length-1;j>0;j--){
                for(let i=0;i<length-1;i++){//这里一定要写i<length-1而不是i<length，这样才能保证后两位有做比较
                    if(this.array[i]>this.array[i+1]){
                        this.swap(i,i+1)
                    }
                }
            }
        }
        //选择排序
        ArrayList.prototype.select=function(){
            let length=this.array.length
                        
            for(let j=0;j<length-1;j++){//外层循环，从0开始获取元素；最后一次就不用比较了
                let min=j
                for(let i=min+1;i<length;i++){
                    if(this.array[min]>this.array[i]){
                        min=i//标记最小元素的下标标记为新下标
                    }
                }
                this.swap(j,min)//循环完再交换
            }
        }
        //插入排序
        ArrayList.prototype.insertion=function(){
            let length=this.array.length

            for(let i=1;i<length;i++){//外层循环确定从1开始获取元素

                let item=this.array[i]//记录当前元素值

                let j=i//记录当前下标，目的是拿下标进行循环比较

                while(this.array[j-1]>item&&j>0){
                    this.array[j]=this.array[j-1]//较大的元素右移
                    j--
                }
                this.array[j] = item//此时经历过循环的j就是合适位置，将当前元素放入即可
            }
        }
        //希尔排序
        ArrayList.prototype.shell=function(){
            let length=this.array.length
            let gap=Math.floor(length/2) //向下舍入最接近的整数

            while(gap>=1){
                for(let i=gap;i<length;i++){

                    let item=this.array[i]//记录当前元素值
                    let j=i

                    while(this.array[j-gap]>item){
                        this.array[j] = this.array[j - gap]
                        j -= gap
                    }
                    this.array[j] = item
                }

                gap=Math.floor(gap/2)
            }
        }
        //快速排序
        //交换两个位置的数据
        let swap1 = function(arr, m, n){
            let temp  = arr[m]
            arr[m] = arr[n]
            arr[n] = temp
        }
        //选择枢纽
        let median = function(arr){
            //1.取出中间的位置
            let center = Math.floor(arr.length / 2)
            let right = arr.length - 1 
            let left = 0

            //2.判断大小并进行交换
            if (arr[left] > arr[center]) {
                swap1(arr, left, center)
            }
            if (arr[center] > arr[right]){
                swap1(arr, center, right)
            }
            if (arr[left] > arr[right]) {
                swap1(arr, left, right)
            }
            //3.返回枢纽下标
            return center
        }
        ArrayList.prototype.quick=function(arr){
            if (arr.length == 0) {return []}

            let center = median(arr)//取出枢纽下标
            
        }

    }
    //测试类
    let list = new ArrayList()

    //插入元素
    list.insert(66)
    list.insert(88)
    list.insert(12)
    list.insert(87)
    list.insert(100)
    list.insert(5)
    list.insert(566)
    list.insert(23)
    
    //验证冒泡排序
    //list.bubble()
    //console.log(list.toString());
    // list.select()
    // console.log(list.toString());
    // list.insertion()
    // console.log(list.toString());
    list.shell()
    console.log(list.toString());
    </script>
</body>
</html>